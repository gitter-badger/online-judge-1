{% extends "__bootstrap.html" %}
{% block __bootstrap__body %}
  <div class="alert alert-info" id="headsup" role="alert">
    <strong id="headsup-text">Judging others... Please wait</strong>
  </div>
  <button type="button" class="btn btn-primary" id="testbutton">Primary</button>
{% endblock %}

{% block __bootstrap__script %}
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
        var socket = io.connect('http://' + document.domain + ':' + location.port + '/test');
        socket.emit('join', {room: '{{ fileid }}'});

        socket.on('start judge', function(msg) {
            $('#headsup').removeClass('alert-info')
            $('#headsup').addClass('alert-success')
            $('#headsup-text').text('Judging Start!')
        });



        socket.on('my response', function(msg) {
            console.log('Received #' + msg.count + ': ' + msg.data);
        });
        $('#testbutton').click(function(event) {
            socket.emit('my event', {data: "input ok?"});
            return false;
        });
    });
  </script>
{% endblock %}
